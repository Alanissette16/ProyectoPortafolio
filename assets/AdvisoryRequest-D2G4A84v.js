import{b as H,r as o,j as e}from"./index-D4BcGv0C.js";import{b as R,c as V,d as _}from"./firestore-BGiPDi5h.js";import{g as O}from"./photoStorage-rzgObget.js";import{C as W,P as X,f as J,a as K}from"./fotovale-CVHZuYGe.js";import{m as b}from"./proxy-UMqJznx0.js";import{C as Q}from"./circle-check-big-xHqmqw-V.js";import{C as S}from"./calendar-CQrf4hND.js";import{C as B}from"./clock-4ZhDpWyp.js";import{A as Y}from"./arrow-right-CWu3Cx-y.js";import{c as q}from"./createLucideIcon-C2cRGIlK.js";import{S as Z}from"./star-Cg5svI_m.js";import{L as ee}from"./loader-circle-BObsJmEt.js";import{H as k}from"./heart-BLBlzmGL.js";import{U as te}from"./user-d2Xl9NPw.js";import{M as se}from"./mail-BrjAVKP3.js";import{P as ae}from"./phone-DWUqrqBy.js";import{F as oe}from"./flower-2-CbZu7Jiv.js";import{M as re}from"./message-square-Cs5SGBDS.js";import{S as ne}from"./sparkles-CiZRvw9s.js";const ie=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],le=q("coffee",ie);const de=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ce=q("send",de),me=(r,x,l)=>{if(!r||r.length===0)return!0;const d=new Date(x+"T00:00:00");if(isNaN(d.getTime()))return!1;const p=d.toLocaleDateString("es-ES",{weekday:"long"}),y=z(p),F=r.filter(m=>z(m.day)===y);if(F.length===0)return!0;const j=F.filter(m=>m.available);return j.length===0?!1:j.some(m=>l>=m.from&&l<=m.to)},z=r=>{const x={lunes:"Lunes",martes:"Martes",miÃ©rcoles:"MiÃ©rcoles",miercoles:"MiÃ©rcoles",jueves:"Jueves",viernes:"Viernes",sÃ¡bado:"SÃ¡bado",sabado:"SÃ¡bado",domingo:"Domingo"},l=r.toLowerCase().trim();return x[l]||r},xe=[{id:"web",label:"Desarrollo Web",icon:W,color:"pink"},{id:"design",label:"DiseÃ±o UI/UX",icon:X,color:"purple"},{id:"consulting",label:"ConsultorÃ­a",icon:le,color:"rose"},{id:"other",label:"Otro",icon:Z,color:"violet"}],ue=["09:00","10:00","11:00","12:00","14:00","15:00","16:00","17:00"],M=r=>{const[x,l]=r.split(":"),d=parseInt(x),p=d>=12?"PM":"AM";return`${d%12||12}:${l} ${p}`},Me=()=>{const{user:r,isAuthenticated:x}=H(),[l,d]=o.useState(!1),[p,y]=o.useState(!0),[F,j]=o.useState(!1),[c,m]=o.useState(""),[n,T]=o.useState(""),[f,$]=o.useState(""),[a,P]=o.useState(""),[N,C]=o.useState([]),[v,D]=o.useState(!1),[A,w]=o.useState(!0),[s,g]=o.useState({name:r?.displayName||"",email:r?.email||"",phone:"",company:"",message:""}),E=[{id:"claudia",name:"Claudia",role:"Full Stack Developer",image:J,specialty:"Desarrollo Web & Apps",gradient:"from-[#D4AF37] to-[#B8860B]",bgGradient:"from-[#FFF8E7] to-[#FFF0D4]"},{id:"valeria",name:"Valeria",role:"UI/UX Designer",image:K,specialty:"DiseÃ±o & Branding",gradient:"from-[#D4A574] to-[#D4AF37]",bgGradient:"from-[#FFFAF0] to-[#FFF5E6]"}];o.useEffect(()=>{(async()=>{try{const i=await R(),u=[{gradient:"from-[#9B59B6] to-[#8E44AD]",bgGradient:"from-[#F5EEF8] to-[#EBDEF0]"},{gradient:"from-[#E91E63] to-[#C2185B]",bgGradient:"from-[#FCE4EC] to-[#F8BBD9]"},{gradient:"from-[#00BCD4] to-[#0097A7]",bgGradient:"from-[#E0F7FA] to-[#B2EBF2]"},{gradient:"from-[#4CAF50] to-[#388E3C]",bgGradient:"from-[#E8F5E9] to-[#C8E6C9]"}],L=i.map((h,U)=>{const G=u[U%u.length];return{id:h.id,name:h.displayName||"Programador",role:h.specialty||"Desarrollador",image:O(h.photoURL),specialty:h.specialty||"Desarrollo de Software",...G}});C([...E,...L])}catch{C(E)}finally{y(!1)}})()},[]),o.useEffect(()=>{(async()=>{if(!a||!c||!n){D(!1);return}try{const i=await V(a);if(i?.slots&&i.slots.length>0){const u=me(i.slots,c,n);w(u)}else w(!0);D(!0)}catch{w(!0),D(!0)}})()},[a,c,n]);const I=async t=>{if(t.preventDefault(),d(!0),v&&!A){alert("El horario seleccionado no estÃ¡ disponible. Por favor selecciona otro horario."),d(!1);return}try{const i=N.find(u=>u.id===a);await _({programmerId:a,programmerName:i?.name||"",programmerEmail:"",requesterName:s.name,requesterEmail:s.email,slot:{date:c,time:n},note:`Servicio: ${f}
TelÃ©fono: ${s.phone}
Empresa: ${s.company}
Mensaje: ${s.message}`,userId:r?.uid||null}),j(!0)}catch{alert("Hubo un error al enviar tu solicitud. Por favor intenta de nuevo.")}finally{d(!1)}};return F?e.jsx("div",{className:"min-h-screen bg-[#FFFAF6] pt-24 pb-20 flex items-center justify-center",children:e.jsxs(b.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-lg w-full mx-4 p-10 bg-white rounded-3xl shadow-2xl border text-center",style:{boxShadow:"0 25px 50px -12px rgba(212, 175, 55, 0.1)",borderColor:"rgba(212, 175, 55, 0.2)"},children:[e.jsx(b.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 rounded-full mb-6",style:{background:"linear-gradient(to right, #D4AF37, #B8860B)"},children:e.jsx(Q,{className:"text-white",size:40})}),e.jsx("h2",{className:"text-3xl font-display font-bold text-base-content mb-4",children:"Â¡Solicitud Enviada! ðŸ’–"}),e.jsxs("p",{className:"text-base-content/60 font-body mb-8",children:["Hemos recibido tu solicitud de asesorÃ­a. Te contactaremos pronto para confirmar tu cita con"," ",e.jsx("span",{className:"font-semibold text-[#D4AF37]",children:N.find(t=>t.id===a)?.name}),"."]}),e.jsx("div",{className:"p-4 rounded-2xl mb-6",style:{background:"linear-gradient(to right, #FFF8E7, #FFF0D4)"},children:e.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-base-content/70 font-body",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{size:16,className:"text-[#D4AF37]"}),c]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{size:16,className:"text-[#B8860B]"}),n?M(n):"Sin hora"]})]})}),e.jsxs("a",{href:"/",className:"inline-flex items-center gap-2 px-8 py-4 rounded-full text-white font-semibold hover:opacity-90 transition-opacity font-body",style:{background:"linear-gradient(to right, #D4AF37, #B8860B)"},children:["Volver al Inicio",e.jsx(Y,{size:18})]})]})}):e.jsxs("div",{className:"min-h-screen bg-[#FFF9F5] pt-24 pb-20",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#FFEFE6]/30 via-transparent to-[#FFE6DC]/20"}),e.jsx("div",{className:"absolute top-20 right-10 w-72 h-72 rounded-full border border-[#E8C4B8]/10"})]}),e.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-5 py-2 rounded-full border mb-6",style:{background:"linear-gradient(to right, #FFF8E7, #FFF0D4)",borderColor:"rgba(212, 175, 55, 0.3)"},children:[e.jsx(S,{className:"text-[#D4AF37]",size:18}),e.jsx("span",{className:"font-medium bg-clip-text text-transparent font-body",style:{backgroundImage:"linear-gradient(to right, #D4AF37, #B8860B)"},children:"Agenda tu Cita"})]}),e.jsxs(b.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-5xl sm:text-6xl font-display font-bold mb-6",children:[e.jsx("span",{className:"text-base-content",children:"Solicitar "}),e.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(to right, #D4AF37, #B8860B, #D4A574)"},children:"AsesorÃ­a"})]}),e.jsx(b.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl text-base-content/60 max-w-2xl mx-auto font-body",children:"Agenda una consulta gratuita de 30 minutos con nuestro equipo âœ¨"})]}),e.jsx(b.form,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},onSubmit:I,className:"bg-white rounded-[2rem] shadow-2xl border overflow-hidden",style:{boxShadow:"0 25px 50px -12px rgba(212, 175, 55, 0.1)",borderColor:"rgba(212, 175, 55, 0.2)"},children:e.jsxs("div",{className:"p-8 sm:p-10",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("h3",{className:"text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white text-sm font-bold",style:{background:"linear-gradient(to right, #D4AF37, #B8860B)"},children:"1"}),"Â¿En quÃ© podemos ayudarte?"]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:xe.map(t=>e.jsxs("button",{type:"button",onClick:()=>$(t.id),className:`p-5 rounded-2xl border-2 text-left transition-all duration-300 ${f===t.id?"border-[#D4AF37] shadow-lg":"border-[#D4AF37]/20 hover:border-[#D4AF37]/40 hover:bg-[#FFF8E7]/50"}`,style:f===t.id?{background:"linear-gradient(to right, #FFF8E7, #FFF0D4)",boxShadow:"0 10px 15px -3px rgba(212, 175, 55, 0.1)"}:{},children:[e.jsx(t.icon,{className:`mb-3 ${f===t.id?"text-[#D4AF37]":"text-base-content/40"}`,size:24}),e.jsx("p",{className:"font-semibold text-base-content font-body",children:t.label})]},t.id))})]}),e.jsxs("div",{className:"mb-10",children:[e.jsxs("h3",{className:"text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white text-sm font-bold",style:{background:"linear-gradient(to right, #D4AF37, #B8860B)"},children:"2"}),"Â¿Con quiÃ©n te gustarÃ­a hablar?"]}),p?e.jsxs("div",{className:"flex items-center justify-center py-10",children:[e.jsx(ee,{className:"w-8 h-8 text-[#D4AF37] animate-spin"}),e.jsx("span",{className:"ml-3 text-base-content/60 font-body",children:"Cargando asesores..."})]}):e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(t=>e.jsx("button",{type:"button",onClick:()=>P(t.id),className:`p-6 rounded-2xl border-2 text-left transition-all duration-300 ${a===t.id?"border-[#D4AF37] shadow-lg":"border-[#D4AF37]/20 hover:border-[#D4AF37]/40 hover:bg-[#FFF8E7]/50"}`,style:a===t.id?{background:"linear-gradient(to right, #FFF8E7, #FFF0D4)",boxShadow:"0 10px 15px -3px rgba(212, 175, 55, 0.1)"}:{},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`relative w-16 h-16 rounded-2xl overflow-hidden border-2 ${a===t.id?"border-[#D4AF37]":"border-white"} shadow-lg`,children:e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-display font-bold text-lg text-base-content",children:t.name}),e.jsx("p",{className:`text-sm font-body ${a===t.id?"text-[#D4AF37]":"text-base-content/50"}`,children:t.role}),e.jsx("p",{className:"text-xs text-base-content/40 font-body mt-1",children:t.specialty})]})]})},t.id))})]}),e.jsxs("div",{className:"mb-10",children:[e.jsxs("h3",{className:"text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white text-sm font-bold",style:{background:"linear-gradient(to right, #D4AF37, #B8860B)"},children:"3"}),"Selecciona fecha y hora"]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-base-content/70 font-body flex items-center gap-2 mb-2",children:[e.jsx(S,{size:14,className:"text-[#D4AF37]"}),"Fecha"]}),e.jsx("input",{type:"date",value:c,onChange:t=>m(t.target.value),min:new Date().toISOString().split("T")[0],required:!0,className:"w-full px-5 py-4 rounded-2xl bg-white border-2 border-[#D4AF37]/20 focus:border-[#D4AF37]/50 focus:ring-4 focus:ring-[#D4AF37]/10 outline-none transition-all font-body"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-base-content/70 font-body flex items-center gap-2 mb-2",children:[e.jsx(B,{size:14,className:"text-[#B8860B]"}),"Hora"]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:ue.map(t=>e.jsx("button",{type:"button",onClick:()=>T(t),className:`py-2 rounded-xl text-xs font-medium transition-all font-body ${n===t?"text-white":"bg-[#FFF8E7] text-base-content/60 hover:bg-[#FFF0D4]"}`,style:n===t?{background:"linear-gradient(to right, #D4AF37, #B8860B)"}:{},children:M(t)},t))}),v&&a&&c&&n&&!A&&e.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-red-50 border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx(k,{className:"text-red-500",size:16}),e.jsxs("span",{className:"text-sm font-medium",children:["âš ï¸ Este horario no estÃ¡ disponible para ",N.find(t=>t.id===a)?.name]})]}),e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Por favor selecciona otro horario o fecha."})]})]})]})]}),e.jsxs("div",{className:"mb-10",children:[e.jsxs("h3",{className:"text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white text-sm font-bold",style:{background:"linear-gradient(to right, #D4AF37, #B8860B)"},children:"4"}),"Tus datos de contacto"]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-base-content/70 font-body flex items-center gap-2 mb-2",children:[e.jsx(te,{size:14,className:"text-[#D4AF37]"}),"Nombre completo"]}),e.jsx("input",{type:"text",value:s.name,onChange:t=>g({...s,name:t.target.value}),required:!0,placeholder:"Tu nombre",className:"w-full px-5 py-4 rounded-2xl bg-white border-2 border-[#D4AF37]/20 focus:border-[#D4AF37]/50 focus:ring-4 focus:ring-[#D4AF37]/10 outline-none transition-all font-body"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-base-content/70 font-body flex items-center gap-2 mb-2",children:[e.jsx(se,{size:14,className:"text-[#B8860B]"}),"Email"]}),e.jsx("input",{type:"email",value:s.email,onChange:t=>g({...s,email:t.target.value}),required:!0,placeholder:"tu@email.com",className:"w-full px-5 py-4 rounded-2xl bg-white border-2 border-[#D4AF37]/20 focus:border-[#D4AF37]/50 focus:ring-4 focus:ring-[#D4AF37]/10 outline-none transition-all font-body"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-base-content/70 font-body flex items-center gap-2 mb-2",children:[e.jsx(ae,{size:14,className:"text-[#D4AF37]"}),"TelÃ©fono"]}),e.jsx("input",{type:"tel",value:s.phone,onChange:t=>g({...s,phone:t.target.value}),placeholder:"+593 55 1234 567",className:"w-full px-5 py-4 rounded-2xl bg-white border-2 border-[#D4AF37]/20 focus:border-[#D4AF37]/50 focus:ring-4 focus:ring-[#D4AF37]/10 outline-none transition-all font-body"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-base-content/70 font-body flex items-center gap-2 mb-2",children:[e.jsx(oe,{size:14,className:"text-[#B8860B]"}),"Empresa (opcional)"]}),e.jsx("input",{type:"text",value:s.company,onChange:t=>g({...s,company:t.target.value}),placeholder:"Nombre de tu empresa",className:"w-full px-5 py-4 rounded-2xl bg-white border-2 border-[#D4AF37]/20 focus:border-[#D4AF37]/50 focus:ring-4 focus:ring-[#D4AF37]/10 outline-none transition-all font-body"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("label",{className:"text-sm font-medium text-base-content/70 font-body flex items-center gap-2 mb-2",children:[e.jsx(re,{size:14,className:"text-[#D4AF37]"}),"CuÃ©ntanos sobre tu proyecto"]}),e.jsx("textarea",{value:s.message,onChange:t=>g({...s,message:t.target.value}),rows:4,required:!0,placeholder:"Describe brevemente tu proyecto o las preguntas que tienes...",className:"w-full px-5 py-4 rounded-2xl bg-white border-2 border-[#D4AF37]/20 focus:border-[#D4AF37]/50 focus:ring-4 focus:ring-[#D4AF37]/10 outline-none transition-all font-body resize-none"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-[#D4AF37]/20",children:[e.jsxs("p",{className:"text-sm text-base-content/50 font-body flex items-center gap-2",children:[e.jsx(k,{size:14,className:"text-[#D4AF37] fill-[#D4AF37]"}),"La consulta es gratuita y sin compromiso"]}),e.jsx("button",{type:"submit",disabled:l||!f||!a||!c||!n||v&&!A,className:"group flex items-center gap-3 px-8 py-4 rounded-full text-white font-bold hover:opacity-90 transition-all shadow-xl disabled:opacity-50 disabled:cursor-not-allowed font-body",style:{background:"linear-gradient(to right, #D4AF37, #B8860B, #D4A574)",boxShadow:"0 20px 25px -5px rgba(212, 175, 55, 0.25)"},children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{size:20}),"Enviar Solicitud",e.jsx(ce,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]})]})})]})]})};export{Me as default};
